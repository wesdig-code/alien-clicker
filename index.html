<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>Alien Clicker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Ã‰cran d'accueil -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-container">
            <h1 class="welcome-title">ğŸ‘½ ALIEN CLICKER ğŸ›¸</h1>
            <p class="welcome-subtitle">Cliquez, collectez et conquÃ©rez la galaxie !</p>

            <div class="welcome-buttons">
                <button class="welcome-btn new-game-btn" onclick="startNewGame()">
                    ğŸš€ Nouvelle Partie
                </button>
                <button class="welcome-btn load-game-btn" onclick="showLoadGameDialog()">
                    ğŸ’¾ Charger une Partie
                </button>
            </div>

            <!-- Dialogue de chargement de fichier -->
            <div id="load-dialog" class="load-dialog hidden">
                <h3>Charger une Sauvegarde</h3>
                <input type="file" id="save-file-input" accept=".json" />
                <div class="load-dialog-buttons">
                    <button onclick="loadGameFromFile()" class="load-confirm-btn">Charger</button>
                    <button onclick="hideLoadGameDialog()" class="load-cancel-btn">Annuler</button>
                </div>
            </div>
        </div>
    </div>

    <div id="intro-screen" class="intro-screen hidden">
        <div class="intro-container">
            <div id="intro-text" class="intro-text"></div>
        </div>
    </div>

    <!-- Interface de jeu (cachÃ©e au dÃ©but) -->
    <div id="shop" class="game-interface hidden">
        <div class="shop-tabs">
            <button class="tab-button active" onclick="switchTab('farms')">ğŸ›¸ Fermes</button>
            <button class="tab-button" onclick="switchTab('tools')">ğŸ”§ Outils</button>
            <button class="tab-button" onclick="switchTab('galaxy')">ğŸ—ºï¸ Carte</button>
            <button class="tab-button" onclick="switchTab('laboratory')">ğŸ§ª Laboratoire</button>
            <button class="tab-button" onclick="switchTab('wormhole')">ğŸŒŒ Wormhole</button>
            <button class="tab-button" onclick="switchTab('save')">âš™ï¸ Option</button>
        </div>

        <div id="farms-tab" class="tab-content active">
            <h3 class="tab-header">Fermes Aliens</h3>
            <div id="farm-container"></div>
        </div>

        <div id="tools-tab" class="tab-content">
            <h3 class="tab-header">Outils de Clic</h3>
            <div id="tool-container"></div>
        </div>

        <div id="galaxy-tab" class="tab-content">
            <h3 class="tab-header">Carte Galactique</h3>
            <div class="galaxy-panel">
                <div class="galaxy-system-row">
                    <label for="galaxy-system-select" class="galaxy-system-label">SystÃ¨me solaire</label>
                    <select id="galaxy-system-select" class="galaxy-system-select"></select>
                </div>
                <div class="current-planet-panel">
                    <div class="current-planet-label">Position actuelle</div>
                    <div id="current-planet-name" class="current-planet-name">ğŸª Orbita Prime</div>
                    <div id="current-planet-biome" class="current-planet-biome">NÃ©buleuses calmes</div>
                    <div id="current-planet-bonus" class="current-planet-bonus">Clic x1.00 â€¢ Fermes x1.00</div>
                    <div id="current-planet-harvest-text" class="current-planet-harvest-text">RÃ©colte: 0 / 0 Entropie
                    </div>
                    <div class="current-planet-harvest-progress">
                        <div id="current-planet-harvest-bar" class="current-planet-harvest-bar"></div>
                    </div>
                </div>
                <div id="galaxy-grid" class="galaxy-grid"></div>
            </div>
        </div>

        <div id="laboratory-tab" class="tab-content">
            <h3 class="tab-header">Laboratoire Alien</h3>
            <div class="laboratory-panel">
                <div class="laboratory-header">
                    <h4>ğŸ§¬ Arbre de Recherche</h4>
                    <div id="laboratory-status" class="laboratory-status">Recherches dÃ©bloquÃ©es: 0/0</div>
                </div>
                <div id="laboratory-tree" class="laboratory-tree"></div>
            </div>
        </div>

        <div id="wormhole-tab" class="tab-content">
            <h3 class="tab-header">ğŸŒŒ Wormhole - Prestige</h3>

            <div class="wormhole-info">
                <div class="stardust-display">
                    <span class="stardust-label">âœ¨ Stardust disponible:</span>
                    <span class="stardust-value" id="stardust-amount">0</span>
                </div>

                <div class="prestige-section">
                    <h4>ğŸš€ Voyage Interdimensionnel</h4>
                    <p class="prestige-description">
                        Traversez un wormhole pour recommencer votre aventure avec des bonus permanents !
                        Votre entropie actuelle sera convertie en <strong>Stardust</strong>.
                    </p>

                    <div class="prestige-preview">
                        <span>Entropie actuelle: <span id="current-score-preview">0</span></span>
                        <span>Stardust Ã  gagner: <span id="stardust-gain-preview">0</span></span>
                    </div>

                    <button id="prestige-button" class="prestige-btn" onclick="performPrestige()">
                        ğŸŒŒ Entrer dans le Wormhole
                    </button>
                </div>
            </div>

            <div class="prestige-upgrades">
                <h4>â­ AmÃ©liorations Permanentes</h4>
                <div id="prestige-upgrades-container">
                    <!-- Les amÃ©liorations seront gÃ©nÃ©rÃ©es par JavaScript -->
                </div>
            </div>
        </div>

        <div id="save-tab" class="tab-content">
            <h3 class="tab-header">Gestion des Parties</h3>

            <div class="game-stats">
                <div class="stat-line">
                    <span class="stat-label">Entropie actuelle:</span>
                    <span class="stat-value" id="current-score">0</span>
                </div>
                <div class="stat-line">
                    <span class="stat-label">ğŸ† Entropie totale gÃ©nÃ©rÃ©e:</span>
                    <span class="stat-value" id="total-score-earned">0</span>
                </div>
                <div class="stat-line">
                    <span class="stat-label">ğŸ’° Entropie totale dÃ©pensÃ©e:</span>
                    <span class="stat-value" id="total-score-spent">0</span>
                </div>
                <div class="stat-line">
                    <span class="stat-label">Entropie/seconde:</span>
                    <span class="stat-value" id="current-ps">0</span>
                </div>
                <div class="stat-line">
                    <span class="stat-label">Entropie/clic:</span>
                    <span class="stat-value" id="current-pc">1</span>
                </div>
                <div class="stat-line">
                    <span class="stat-label">Fermes totales:</span>
                    <span class="stat-value" id="total-farms">0</span>
                </div>
                <div class="stat-line">
                    <span class="stat-label">Outils totaux:</span>
                    <span class="stat-value" id="total-tools">0</span>
                </div>
            </div>

            <div class="save-section">
                <h4>ğŸŒŒ Effets Visuels</h4>
                <button class="save-button" id="toggle-background" onclick="toggleBackgroundEmojis()">
                    <span id="background-status">ğŸŒŸ DÃ©sactiver les Ã©mojis</span>
                </button>
                <div class="save-info">
                    Active/dÃ©sactive les Ã©mojis flottants en arriÃ¨re-plan
                </div>
            </div>

            <div class="save-section">
                <h4>ğŸ’¾ Sauvegarder la partie</h4>
                <button class="save-button" onclick="saveGame()">TÃ©lÃ©charger la sauvegarde</button>
                <div class="save-info">
                    La sauvegarde sera tÃ©lÃ©chargÃ©e en fichier JSON<br>
                    Nom: alien-clicker-save.json
                </div>
            </div>

            <div class="save-section">
                <h4>ğŸ“ Charger une partie</h4>
                <input type="file" class="file-input" id="load-file" accept=".json" onchange="loadGame(event)">
                <div class="save-info">
                    SÃ©lectionnez un fichier de sauvegarde JSON<br>
                    âš ï¸ Attention: Cela remplacera votre partie actuelle
                </div>
            </div>
        </div>
    </div>

    <div id="game-column">
        <div id="entropie">
            <div id="entropy-panel" class="entropy-panel hidden">
                <div class="entropy-panel-header">
                    <div class="entropy-panel-title">âš›ï¸ Entropie</div>
                </div>
                <div class="entropy-panel-content">
                    <div class="entropy-panel-row"><span>Actuelle</span><span id="entropy-current">0</span></div>
                    <div class="entropy-panel-row"><span>Par seconde</span><span id="entropy-per-sec">0</span></div>
                    <div class="entropy-panel-row"><span>Par clic</span><span id="entropy-per-click">1</span></div>
                </div>
            </div>
        </div>

        <!-- Zone de jeu Phaser (toujours visible) -->
        <div id="game">
            <!-- Panel dÃ©diÃ© des compteurs d'entropie -->
        </div>
    </div>

    <!-- Zone d'affichage des effets actifs -->
    <div id="active-effects" class="active-effects-container hidden">
        <div class="effects-title">Effets Actifs</div>
        <div id="effects-list" class="effects-list">
            <!-- Les effets seront ajoutÃ©s dynamiquement ici -->
        </div>
    </div>

    <!-- Panel de collection d'items permanents -->
    <div id="collection-panel" class="collection-panel hidden">
        <div class="collection-header">
            <div class="collection-title">ğŸ† Collection</div>
            <div class="collection-counter" id="collection-counter">0/9</div>
            <button class="collection-toggle" onclick="toggleCollectionPanel()">ğŸ“¦</button>
        </div>
        <div class="collection-content">
            <div id="collection-grid" class="collection-grid">
                <!-- Les items de collection seront ajoutÃ©s ici -->
            </div>
        </div>
    </div>

    <!-- Scripts dans l'ordre de dÃ©pendance -->
    <script src="js/data.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/galaxy.js"></script>
    <script src="js/farms.js"></script>
    <script src="js/tools.js"></script>
    <script src="js/upgrades.js"></script>
    <script src="js/laboratory.js"></script>
    <script src="js/drops.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/save.js"></script>
    <script src="js/background.js"></script>
    <script src="js/wormhole.js"></script>
    <script src="js/welcome.js"></script>
    <script src="js/game.js"></script>
    <script src="main.js"></script>
</body>

</html>